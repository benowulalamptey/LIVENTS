<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Livents Producer</title> <!-- CHANGE TO "Livents Producer" IN LIVENTS -->
  <style>
    body {
      margin: 0;
      background: #111;
      color: #fff;
      font-family: Arial, sans-serif;
    }

    /* Top Bar */
    #topBar {
      width: 100%;
      background: #222;
      padding: 10px;
      text-align: center;
      font-size: 22px;
      font-weight: bold;
      border-bottom: 2px solid #333;
      position: sticky;
      top: 0;
      z-index: 10;
    }

    /* Schedule Form */
    #scheduleBox {
      background: #1b1b1b;
      padding: 15px;
      margin: 12px;
      border-radius: 8px;
      border: 1px solid #333;
    }

    #scheduleBox input, #scheduleBox textarea {
      width: 100%;
      padding: 10px;
      margin-bottom: 12px;
      border-radius: 6px;
      border: none;
      font-size: 16px;
    }

    #createEventBtn {
      width: 100%;
      padding: 12px;
      background: #ff9900;
      border: none;
      font-size: 18px;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
    }

    #createEventBtn:hover {
      background: #ffb84d;
    }

    /* Layout for 5-view Super Admin Screen */
    #layoutContainer {
      display: flex;
      height: calc(100vh - 350px);
      margin: 12px;
      gap: 12px;
    }

    #p1 {
      width: 40%;
      background: #000;
    }

    #rightPane {
      width: 60%;
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .tile {
      flex: 1;
      background: #222;
      display: flex;
      justify-content: center;
      align-items: center;
      color: #ccc;
      font-size: 18px;
      border-radius: 6px;
      border: 1px solid #333;
    }

    .label {
      font-size: 14px;
      opacity: 0.85;
      margin-bottom: 4px;
    }
  </style>
</head>
<body>

<div id="topBar">Livents Producer</div>  
<!-- CHANGE THIS TEXT TO Livents Producer IN THE LIVENTS REPO -->

<div id="scheduleBox">
  <h3>Schedule Event</h3>

  <label>Event Title</label>
  <input id="titleInput" placeholder="Enter event title">

  <label>Event Time</label>
  <input id="timeInput" type="datetime-local">

  <label>Special Picture 1 Description</label>
  <textarea id="sp1Desc" rows="2" placeholder="Describe SP1 feed..."></textarea>

  <label>Special Picture 2 Description</label>
  <textarea id="sp2Desc" rows="2" placeholder="Describe SP2 feed..."></textarea>

  <button id="createEventBtn">Create Event</button>
</div>

<!-- Producer multi-view layout -->
<div id="layoutContainer">

  <!-- Left large tile -->
  <div id="p1" class="tile">Picture 1 (Admin Feed)</div>

  <!-- Right side stacked tiles -->
  <div id="rightPane">
    <div id="p2" class="tile">Picture 2 (Producer 2)</div>
    <div id="p3" class="tile">Picture 3 (Producer 3)</div>
    <div id="sp1" class="tile">SP1 (Special Picture 1)</div>
    <div id="sp2" class="tile">SP2 (Special Picture 2)</div>
  </div>
</div>

<script>
  const isLivents = document.title.toLowerCase().includes("livents");
  const API = isLivents
    ? "https://livents-backend.onrender.com"
    : "https://ludi-backend.onrender.com";

  const btn = document.getElementById("createEventBtn");

  btn.onclick = async () => {
    const title = document.getElementById("titleInput").value.trim();
    const time = document.getElementById("timeInput").value.trim();
    const sp1Desc = document.getElementById("sp1Desc").value.trim();
    const sp2Desc = document.getElementById("sp2Desc").value.trim();

    if (!title || !time) {
      alert("Event title and time required.");
      return;
    }

    const body = {
      title,
      time,
      sp1Desc,
      sp2Desc
    };

    const res = await fetch(`${API}/event`, {
      method: "POST",
      headers: {"Content-Type": "application/json"},
      body: JSON.stringify(body)
    });

    if (res.ok) {
      alert("Event scheduled successfully!");
      document.getElementById("titleInput").value = "";
      document.getElementById("timeInput").value = "";
      document.getElementById("sp1Desc").value = "";
      document.getElementById("sp2Desc").value = "";
    } else {
      alert("Error scheduling event.");
    }
  };
</script>

</body>
</html>
